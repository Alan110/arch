<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Document</title>
    </head>
    <body></body>
    <script src="http://cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
    <script src="./output/src/arch.js"></script>
    <script>

	require(['./arch'], function(arch) {
	    var a = new arch({
	        data: {
	            name: 'alan',
		    array : [],
	            list: {
	                sex: 1,
	                sex2:2
	            },
	            age: 12,
	            sayHelo: function() {
	                console.log('you cant change me');
	            }
	        },

	        watch: {
	            "name": function(old, newvalue) {
	                console.log(old, newvalue);
	                this.sayHelo();
	            },

		    "array" : function(old,newvalue){
			console.log(old,newvalue);
		    },

	            "list": {
	                "sex": function(old, newvalue) {
	                    console.log(old, newvalue);
	                    this.sayHelo();
	                }
	            }
	        }
	    });

	    a.list.array = [1,2,3];

	    window.arch = arch;

	    arch.on("click", function(){
		a.list.sex = 'f'
	    });


	});

	require(['./ArrayProxy'],function(ArrayProxy){
	    var arr = new ArrayProxy();
	    arr.push(123);
	    arr.push(123);
	    arr.push(123);
	    arr.push(123);
	    console.log(arr);
	});

    </script>
</html>
